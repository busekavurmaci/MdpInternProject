@model System.Data.DataTable
@using System.Data
@using System.Data.SqlClient
@{
    ViewBag.Title = " Gönderilmiş İrsaliye";
}

<div>
    <h3>Gönderilmiş e-İrsaliye</h3>
    <hr /><br />
          <div id="formid" class="container">
              @using (Html.BeginForm("Outboxda", "Outboxda", FormMethod.Post))
              {
              <div class="row g-3">
                  <div class="col-md-4">
                      <div class="input-group mb-2">
                          <span style="padding-top: 6px; padding-bottom: 6px; width: 120px; height: 30px; white-space: nowrap;" class="input-group-text" id="basic-addon1">İrsaliye No: &emsp;</span>
                          <input style="width: 56%; height: 30px;" type="text" name="number" class="form-control" aria-label="Recipient's username" aria-describedby="basic-addon2">
                          <div class="input-group-append">
                              <button style="height: 30px; padding-top: 2px; padding-bottom: 2px; " class="input-group-button btn btn-dark" type="submit">Bul</button>
                          </div>
                      </div>
                  </div>

                  </div>
                  }
                  @using (Html.BeginForm("Outboxda", "Outboxda", FormMethod.Get))
                  {
                      <hr />
                      <div class="row g-3">
                          <div class="col-md-4">
                              <div class="input-group mb-2">
                                  <span style="padding-top: 6px; padding-bottom: 6px; width: 120px; height: 30px;" class="input-group-text" id="basic-addon1">Alıcı VKN: &emsp;</span>
                                  <input style="width: 75%; height:30px;" type="text" class="form-control" name="receiver_vn" aria-label="receiver_vn" aria-describedby="basic-addon1">
                              </div>
                          </div>

                          <div class="col-md-4">
                              <div class="input-group mb-2">
                                  <span style="padding-top: 6px; padding-bottom: 6px; width: 120px; height: 30px; white-space: nowrap;" class="input-group-text" id="basic-addon1">Alıcı Adı:</span>
                                  <input style="width: 75%; height:30px;" type="text" class="form-control" name="receiver" aria-label="receiver" aria-describedby="basic-addon1">
                              </div>
                          </div>

                          <div class="col-md-4">
                              <div class="input-group mb-2">
                                  <span style="padding-top: 6px; padding-bottom: 6px; width: 120px; height: 30px;" class="input-group-text" id="basic-addon1">Senaryo: &emsp;</span>
                                  <select style="width: 75%; height: 30px; border-color: #cccccc; " class="form-select" name="profile" aria-label="profile">
                                      <option selected>TÜMÜ</option>
                                      <option value="TEMELFATURA">TEMEL FATURA</option>
                                      <option value="TICARIFATURA">TİCARİ FATURA</option>
                                      <option value="IHRACAT">İHRACAT</option>
                                      <option value="YOLCUBERABERFATURA">YOLCU BERABER FATURA</option>
                                      <option value="HKS">HKS</option>
                                      <option value="TEMELIRSALIYE">TEMEL iRSALIYE</option>
                                  </select>
                              </div>
                          </div>

                          <div class="col-md-4">
                              <div class="input-group mb-2">
                                  <span style="padding-top: 6px; padding-bottom: 6px; width: 120px; height: 30px; white-space: nowrap;" class="input-group-text" id="basic-addon1">Gönderen VKN: </span>
                                  <input style="width: 75%; height: 30px;" type="text" class="form-control" name="sender_vn" aria-label="sender_vn" aria-describedby="basic-addon1">
                              </div>
                          </div>

                          <div class="col-md-4">
                              <div class="input-group mb-2">
                                  <span style="padding-top: 6px; padding-bottom: 6px; width: 120px; height: 30px; white-space: nowrap;" class="input-group-text" id="basic-addon1">Gönderen Adı:</span>
                                  <input style="width: 75%; height: 30px;" type="text" class="form-control" name="sender" aria-label="sender" aria-describedby="basic-addon1">
                              </div>
                          </div>

                          <div class="col-md-4">
                              <div class="input-group mb-2">
                                  <span style="padding-top: 6px; padding-bottom: 6px; width: 120px; height: 30px;" class="input-group-text" id="basic-addon1">Belge Tipi: &emsp;</span>
                                  <select style="width: 75%; height: 30px; border-color: #cccccc; " class="form-select" name="type" aria-label="type">
                                      <option selected>TÜMÜ</option>
                                      <option value="SEVK">SEVK</option>
                                      <option value="SATIS">SATIŞ</option>
                                      <option value="IADE">İADE</option>
                                      <option value="ISTISNA">İSTİSNA</option>
                                      <option value="TEVKIFAT">TEVKİFAT</option>
                                      <option value="OZELMATRAH">ÖZEL MATRAH</option>
                                      <option value="IHRACKAYITLI">İHRAÇ KAYITLI</option>
                                  </select>
                              </div>
                          </div>

                          <div class="col-md-4">
                              <div class="input-group mb-2">
                                  <span style="padding-top: 6px; padding-bottom: 6px; width: 120px; height: 30px;" class="input-group-text" id="basic-addon1">GIB Durumu: &emsp;</span>
                                  <input style="width: 75%; height: 30px;" type="text" class="form-control" name="gib_status" aria-label="gib_status" aria-describedby="basic-addon1">
                              </div>
                          </div>
                          <div class="col-md-4">
                              <div class="input-group mb-2">
                                  <span style="padding-top: 6px; padding-bottom: 6px; width: 120px; height: 30px; white-space: nowrap;" class="input-group-text" name="issue_date" id="basic-addon1">İrsaliye Tarihi: &emsp;</span>
                                  <input style="width: 34%; border-color: #cccccc; border-style:solid; border-width:thin; " type="date" id="start" name="start_date"
                                         value="@DateTime.Now.AddMonths(-1).ToString("yyyy-MM-dd")"
                                         min="2014-01-01" max="@DateTime.Now.ToString("yyyy-MM-dd")"> &nbsp;
                                  <input style="width: 34%; border-color: #cccccc; border-style: solid; border-width: thin; " type="date" id="end" name="end_date"
                                         value="@DateTime.Now.ToString("yyyy-MM-dd")"
                                         min="2014-01-01" max="@DateTime.Now.ToString("yyyy-MM-dd")">
                              </div>
                          </div>

                          <div class="col-md-4">
                              <button style="padding-right: 30px; padding-left: 30px; width: 150px; margin-left:39%; margin-right:50%; " type="submit" class="btn btn-dark">Sorgula</button>
                          </div>
                      </div>
                  }
              </div>
                  <hr />
                  @*------------------------------------------------------------*@

                  <div style="margin-top:20px;" class="limiter">
                      <div class="container-table100">
                          <div class="wrap-table100">
                              <div style="overflow-x:auto;" class="table100">
                                  <table>
                                      
                                      <tbody>
                                          @{
                                              int i = 1;
                                          }
                                          @foreach (DataRow dr in Model.Rows)
                                          {

                                              if (i == 1)
                                              {
                                      <thead>
                                          <tr class="table100-head">
                                              <th class="column"><input id="select-all" type="checkbox"></th>
                                              <th class="column">İrsaliye No</th>
                                              <th class="column">İrsaliye Tarih</th>
                                              <th class="column">Gönderen VKN</th>
                                              <th class="column">Gönderen Adı</th>
                                              <th class="column">Alıcı VKN</th>
                                              <th class="column">Alıcı Adı</th>
                                              <th class="column">Tip</th>
                                              <th class="column">Senaryo</th>
                                              <th class="column">GIB Durumu</th>
                                          </tr>
                                      </thead>
                                      i++;
                                              }
                                              <tr>
                                                  <td class="column"><input name="sec" type="checkbox"></td>
                                                  <td class="column">@dr["number"].ToString()</td>
                                                  <td class="column">@dr["issue_date"].ToString()</td>
                                                  <td class="column">@dr["sender_vn"].ToString()</td>
                                                  <td class="column">@dr["sender"].ToString()</td>
                                                  <td class="column">@dr["receiver_vn"].ToString()</td>
                                                  <td class="column">@dr["receiver"].ToString()</td>
                                                  <td class="column">@dr["type"].ToString()</td>
                                                  <td class="column">@dr["profile"].ToString()</td>

                                                  @{
                                                      if (Convert.ToInt32(dr["gib_status"]) == 1000)
                                                      {
                                                          <td class="column">@dr["gib_status"].ToString() <label data-toggle="todoltip" data-placement="top" title="sarı" class="label label-warning">&nbsp;</label></td>
                                                      }

                                                      else if (Convert.ToInt32(dr["gib_status"]) == 1100)
                                                      {
                                                          <td class="column">@dr["gib_status"].ToString() <label data-toggle="tooltip" data-placement="top" title="Denesarıme" class="badge badge-warning">&nbsp;</label></td>
                                                      }

                                                      else if (Convert.ToInt32(dr["gib_status"]) <= 1199 && Convert.ToInt32(dr["gib_status"]) >= 1110)
                                                      {
                                                          <td class="column">@dr["gib_status"].ToString() <label data-toggle="tooltip" data-placement="top" title="kırmızı" class="badge badge-danger">&nbsp;</label></td>
                                                      }

                                                      else if (Convert.ToInt32(dr["gib_status"]) == 1200)
                                                      {
                                                          <td class="column">@dr["gib_status"].ToString() <label data-toggle="tooltip" data-placement="top" title="sarı" class="badge badge-warning">&nbsp;</label></td>
                                                      }

                                                      else if (Convert.ToInt32(dr["gib_status"]) <= 1299 && Convert.ToInt32(dr["gib_status"]) >= 1201 && Convert.ToInt32(dr["gib_status"]) != 1230)
                                                      {
                                                          <td class="column">@dr["gib_status"].ToString() <label data-toggle="tooltip" data-placement="top" title="sarı" class="badge badge-warning">&nbsp;</label></td>
                                                      }

                                                      else if (Convert.ToInt32(dr["gib_status"]) == 1230)
                                                      {
                                                          <td class="column">@dr["gib_status"].ToString() <<label data-toggle="tooltip" data-placement="top" title="kırmızı" class="badge badge-danger">&nbsp;</label></td>
                                                      }

                                                      else if (Convert.ToInt32(dr["gib_status"]) == 1300)
                                                      {
                                                          <td class="column">@dr["gib_status"].ToString() <label data-toggle="tooltip" data-placement="top" title="yeşil" class="badge badge-success">&nbsp;</label></td>
                                                      }

                                                  }

                                              </tr>
                                          }

                                      </tbody>
                                  </table>
                              </div>
                              @ViewBag.TotalResults <label>sonuç bulundu.</label>
                          </div>
                      </div>
                  </div>

                  @*----------------------------------------------------------*@
              </div>

<script>
    document.getElementById('select-all').onclick = function () {
        var checkboxes = document.getElementsByName('sec');
        for (var checkbox of checkboxes) {
            checkbox.checked = this.checked;
        }
    }

    $(document).ready(function () {
            $('[data-toggle="tooltip"]').tooltip();
    });

</script>
